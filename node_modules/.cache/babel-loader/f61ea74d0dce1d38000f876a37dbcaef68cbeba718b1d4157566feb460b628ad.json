{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{useLocation}from\"react-router-dom\";import AdminSidebar from\"./AdminSidebar\";import AdminNavbar from\"./AdminNavbar\";import\"./Admin.css\";import{Fragment as _Fragment,jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdminLayout=_ref=>{let{children}=_ref;const location=useLocation();const[sidebarOpen,setSidebarOpen]=useState(true);const[isMobile,setIsMobile]=useState(false);useEffect(()=>{const checkScreenSize=()=>{const mobile=window.innerWidth<=768;setIsMobile(mobile);if(mobile){setSidebarOpen(false);}else{setSidebarOpen(true);}};checkScreenSize();window.addEventListener(\"resize\",checkScreenSize);return()=>{window.removeEventListener(\"resize\",checkScreenSize);// Clean up body class on unmount\ndocument.body.classList.remove('sidebar-open');};},[]);// Close sidebar when route changes on mobile\nuseEffect(()=>{if(isMobile&&sidebarOpen){setSidebarOpen(false);}},[location.pathname]);// eslint-disable-line react-hooks/exhaustive-deps\nconst toggleSidebar=()=>{setSidebarOpen(prev=>!prev);};if(location.pathname===\"/login\")return/*#__PURE__*/_jsx(_Fragment,{children:children});return/*#__PURE__*/_jsxs(\"div\",{className:\"admin-wrapper\",children:[/*#__PURE__*/_jsx(AdminSidebar,{sidebarOpen:sidebarOpen,isMobile:isMobile,setSidebarOpen:setSidebarOpen}),/*#__PURE__*/_jsxs(\"div\",{className:\"admin-main \".concat(!isMobile&&!sidebarOpen?\"expanded\":\"\"),children:[/*#__PURE__*/_jsx(AdminNavbar,{toggleSidebar:toggleSidebar}),/*#__PURE__*/_jsx(\"div\",{className:\"admin-content\",children:children})]})]});};export default AdminLayout;","map":{"version":3,"names":["React","useState","useEffect","useLocation","AdminSidebar","AdminNavbar","Fragment","_Fragment","jsx","_jsx","jsxs","_jsxs","AdminLayout","_ref","children","location","sidebarOpen","setSidebarOpen","isMobile","setIsMobile","checkScreenSize","mobile","window","innerWidth","addEventListener","removeEventListener","document","body","classList","remove","pathname","toggleSidebar","prev","className","concat"],"sources":["D:/Edu Project/admin-frontend/src/components/Layout.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport AdminSidebar from \"./AdminSidebar\";\r\nimport AdminNavbar from \"./AdminNavbar\";\r\nimport \"./Admin.css\";\r\n\r\nconst AdminLayout = ({ children }) => {\r\n    const location = useLocation();\r\n    const [sidebarOpen, setSidebarOpen] = useState(true);\r\n    const [isMobile, setIsMobile] = useState(false);\r\n\r\n    useEffect(() => {\r\n        const checkScreenSize = () => {\r\n            const mobile = window.innerWidth <= 768;\r\n            setIsMobile(mobile);\r\n\r\n            if (mobile) {\r\n                setSidebarOpen(false);\r\n            } else {\r\n                setSidebarOpen(true);\r\n            }\r\n        };\r\n\r\n        checkScreenSize();\r\n        window.addEventListener(\"resize\", checkScreenSize);\r\n\r\n        return () => {\r\n            window.removeEventListener(\"resize\", checkScreenSize);\r\n            // Clean up body class on unmount\r\n            document.body.classList.remove('sidebar-open');\r\n        };\r\n    }, []);\r\n\r\n    // Close sidebar when route changes on mobile\r\n    useEffect(() => {\r\n        if (isMobile && sidebarOpen) {\r\n            setSidebarOpen(false);\r\n        }\r\n    }, [location.pathname]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n    const toggleSidebar = () => {\r\n        setSidebarOpen(prev => !prev);\r\n    };\r\n\r\n    if (location.pathname === \"/login\") return <>{children}</>;\r\n\r\n    return (\r\n        <div className=\"admin-wrapper\">\r\n            <AdminSidebar\r\n                sidebarOpen={sidebarOpen}\r\n                isMobile={isMobile}\r\n                setSidebarOpen={setSidebarOpen}\r\n            />\r\n            <div className={`admin-main ${!isMobile && !sidebarOpen ? \"expanded\" : \"\"\r\n                }`}>\r\n                <AdminNavbar toggleSidebar={toggleSidebar} />\r\n                <div className=\"admin-content\">{children}</div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AdminLayout;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,YAAY,KAAM,gBAAgB,CACzC,MAAO,CAAAC,WAAW,KAAM,eAAe,CACvC,MAAO,aAAa,CAAC,OAAAC,QAAA,IAAAC,SAAA,CAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAErB,KAAM,CAAAC,WAAW,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CAC7B,KAAM,CAAAE,QAAQ,CAAGZ,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACa,WAAW,CAAEC,cAAc,CAAC,CAAGhB,QAAQ,CAAC,IAAI,CAAC,CACpD,KAAM,CAACiB,QAAQ,CAAEC,WAAW,CAAC,CAAGlB,QAAQ,CAAC,KAAK,CAAC,CAE/CC,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAkB,eAAe,CAAGA,CAAA,GAAM,CAC1B,KAAM,CAAAC,MAAM,CAAGC,MAAM,CAACC,UAAU,EAAI,GAAG,CACvCJ,WAAW,CAACE,MAAM,CAAC,CAEnB,GAAIA,MAAM,CAAE,CACRJ,cAAc,CAAC,KAAK,CAAC,CACzB,CAAC,IAAM,CACHA,cAAc,CAAC,IAAI,CAAC,CACxB,CACJ,CAAC,CAEDG,eAAe,CAAC,CAAC,CACjBE,MAAM,CAACE,gBAAgB,CAAC,QAAQ,CAAEJ,eAAe,CAAC,CAElD,MAAO,IAAM,CACTE,MAAM,CAACG,mBAAmB,CAAC,QAAQ,CAAEL,eAAe,CAAC,CACrD;AACAM,QAAQ,CAACC,IAAI,CAACC,SAAS,CAACC,MAAM,CAAC,cAAc,CAAC,CAClD,CAAC,CACL,CAAC,CAAE,EAAE,CAAC,CAEN;AACA3B,SAAS,CAAC,IAAM,CACZ,GAAIgB,QAAQ,EAAIF,WAAW,CAAE,CACzBC,cAAc,CAAC,KAAK,CAAC,CACzB,CACJ,CAAC,CAAE,CAACF,QAAQ,CAACe,QAAQ,CAAC,CAAC,CAAE;AAEzB,KAAM,CAAAC,aAAa,CAAGA,CAAA,GAAM,CACxBd,cAAc,CAACe,IAAI,EAAI,CAACA,IAAI,CAAC,CACjC,CAAC,CAED,GAAIjB,QAAQ,CAACe,QAAQ,GAAK,QAAQ,CAAE,mBAAOrB,IAAA,CAAAF,SAAA,EAAAO,QAAA,CAAGA,QAAQ,CAAG,CAAC,CAE1D,mBACIH,KAAA,QAAKsB,SAAS,CAAC,eAAe,CAAAnB,QAAA,eAC1BL,IAAA,CAACL,YAAY,EACTY,WAAW,CAAEA,WAAY,CACzBE,QAAQ,CAAEA,QAAS,CACnBD,cAAc,CAAEA,cAAe,CAClC,CAAC,cACFN,KAAA,QAAKsB,SAAS,eAAAC,MAAA,CAAgB,CAAChB,QAAQ,EAAI,CAACF,WAAW,CAAG,UAAU,CAAG,EAAE,CAClE,CAAAF,QAAA,eACHL,IAAA,CAACJ,WAAW,EAAC0B,aAAa,CAAEA,aAAc,CAAE,CAAC,cAC7CtB,IAAA,QAAKwB,SAAS,CAAC,eAAe,CAAAnB,QAAA,CAAEA,QAAQ,CAAM,CAAC,EAC9C,CAAC,EACL,CAAC,CAEd,CAAC,CAED,cAAe,CAAAF,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}